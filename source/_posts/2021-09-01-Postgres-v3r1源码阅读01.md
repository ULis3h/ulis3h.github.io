---
layout: post
title: Postgres-v3r1源码阅读01
date: 2021-09-01 00:00:00
banner_img: /img/banner.jpg
index_img: /img/postgresql_index.jpg
subtitle: Today is new!
tags: [database, Postgres]
comments: true
mathjax: true
author: ULis3h
---

`main`函数的实现十分简单:
```c
#include "postgres.h"

int
main(int argc, char *argv[])
{
    if (argc > 1)
    {
    	if (!strcmp(argv[1], "-boot"))
	    {
	        BootstrapMain(argc, argv);
        }
        else
        {
        	PostgresMain(argc, argv);
        }
    }
    else
    {
        PostgresMain(argc, argv);
    }
}
```


使用一个单独的文件实现`main()`函数，使得其从其他模块独立出来，这样的设计能够方便各个模块的测试与调试，并且能够方便地扩展新的功能。